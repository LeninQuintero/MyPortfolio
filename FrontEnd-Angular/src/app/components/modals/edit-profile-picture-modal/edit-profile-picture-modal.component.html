<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="editProfilePicModal" tabindex="-1"
    aria-labelledby="editProfilePicModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content text-bg-dark container">
            <div class="modal-header border-light border-opacity-25">
                <h5 class="modal-title" id="editProfilePicModalLabel"><strong
                        class="text-light text-opacity-75">Actualizar imagen de perfil</strong></h5>
                <button type="button" class="btn-close btn-close-white shadow-none" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body row justify-content-center">

                <form class="col-12 col-md-10" [formGroup]="editForm">
                    <div class="mt-3 mb-4">
                        <label for="upProfilePic" class="form-label opacity-50"><small>Dimensiones recomendadas 500 x
                                500px</small></label>
                        <input formControlName="image" (change)="captureFile($event)"
                            class="form-control border-0 bg-light bg-opacity-10 text-light shadow-none"
                            [ngClass]="{'is-valid': isValidField('image'), 'is-invalid': isInvalidField('image')}"
                            type="file" id="upProfilePic" accept="image/jpeg, image/jpg, image/png, image/webp"
                            required>

                        <div class="invalid-feedback mx-1">

                            <span *ngIf="errorsFeedback('image', 'minlength')">El nombre de la imagen debe contener al
                                menos
                                {{ minLengthPictureName }}
                                <span *ngIf="minLengthPictureName === 1">carácter</span>
                                <span *ngIf="minLengthPictureName >= 2">caracteres</span>.
                            </span>

                            <span *ngIf="errorsFeedback('image', 'required')">Selecciona una imagen.</span>

                            <span *ngIf="errorsFeedback('image', 'maxlength')">El nombre de la imagen debe contener
                                menos de
                                {{ maxLengthPictureName }} caracteres.
                            </span>

                            <span *ngIf="errorsFeedback('image', 'pattern')">Formato de imagen NO admitido. Los formatos
                                de imagen válidos son: .webp .jpg .jpeg y .png</span>

                        </div>

                    </div>

                    <button type="button" (click)="update()" class="btn btn-primary btn-lg w-100  mt-2 mb-4"
                        [disabled]="editForm.invalid">
                        <span *ngIf="!spinnerButton">Actualizar</span>

                        <div *ngIf="spinnerButton">
                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                            <span> Actualizando...</span>
                        </div>

                    </button>
                </form>
            </div>
        </div>
    </div>
</div>